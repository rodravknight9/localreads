@inherits LayoutComponentBase
@inject AppState AppState
@inject IAuthService AuthService

<MudLayout>
    <NavMenu />
    <MudMainContent Class="content pt-10">
        @Body
    </MudMainContent>
</MudLayout>

<MudThemeProvider />
<MudPopoverProvider />
<MudDialogProvider FullWidth="true" MaxWidth="MaxWidth.ExtraSmall" />
<MudSnackbarProvider />

@code
{
    protected override async Task OnInitializedAsync()
    {
        if (AppState.UserState.User == null)
        {
            await AuthService.PersistLoggedInUser();
        }
    }
}